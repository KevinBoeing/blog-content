<!doctype html>
<html lang="en">
<head>
    <title>LoRa Spreading Factor Explained</title>
    <meta name="description" content="Understanding LoRa/LoRaWAN data rates and spreading factors without a degree in electrical engineering.">
    <meta name="author" content="Tomas Tulka">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@tomas_tulka">
    <meta name="twitter:creator" content="@tomas_tulka">
    <meta name="twitter:title" content="LoRa Spreading Factor Explained by Tomas Tulka">
    <meta name="twitter:image:src" content="https://blog.ttulka.com/assets/img/blog.jpg">
    <meta property="og:url" content="https://blog.ttulka.com/lora-spreading-factor-explained" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="LoRa Spreading Factor Explained by Tomas Tulka" />
    <meta property="og:image" content="https://blog.ttulka.com/assets/img/blog.jpg">

    <link href="/assets/css/syntaxhighlighter.css" rel="stylesheet">
    <link href="/assets/css/blog.2.7.css" rel="stylesheet">
</head>
<body>

<header class="header">
    <div class="container">
        <nav class="nav">
            <a class="active" href="/">Home</a>
            <a href="/about">About</a>
        </nav>
        <div class="ext-links">
            <a href="https://twitter.com/tomas_tulka"><img src="/assets/img/twitter.png"></a>
            <a href="https://github.com/ttulka"><img src="/assets/img/github.png"></a>
            <a href="#" class="theme"><img src="/assets/img/theme.png"></a>
        </div>
    </div>
</header>

<main class="main">

    <article class="blog-post">
    <h1 class="blog-post__title">LoRa Spreading Factor Explained</h1>
    <p class="blog-post__meta">2022-07-22 by Tomas Tulka</p>
    <p>Understanding LoRa/LoRaWAN data rates and spreading factors without a degree in electrical engineering.</p>
    <hr>
    <p>If you’re working with LoRa/LoRaWAN you have heard about the spreading factor. This parameter significantly impacts the LoRa network, gateway throughput, and battery lifetime. Setting the spreading factor right is crucial for the whole network to work correctly and efficiently.</p>

<p>To understand the spreading factor we have to take a look at what a LoRa signal looks like.</p>

<p>Let’s start with the very basics.</p>

<h2>Frequency and bandwidth</h2>

<p><em>Frequency</em> is the number of events (waves) transmitted per unit of time. The unit of frequency is hertz (Hz) which is equivalent to one event per second.</p>

<p>LoRa uses license-free radio bands; the frequency of channels differs according to the regional regulations. For example, in the EU, LoRa operates on mandatory channels of 868.10, 868.30, and 868.50 MHz with the fixed bandwidth of 125 kHz.</p>

<p><em>Bandwidth</em> (BW) is the difference between the highest and the lowest frequencies of the signal.</p>

<p>For the channel of 868.10 MHz, chirps will be generated based on frequencies from 868.10 - BW/2  MHz to 868.10 + BW/2  MHz (ca 868.04 to 868.16 MHz).</p>

<h2>Chirps</h2>

<p>A <em>chirp</em> (also <em>sweep signal</em>) is a pulse in which the frequency either increases (up-chirp) or decreases (down-chirp) with time:</p>

<p><img src="https://raw.githubusercontent.com/ttulka/blog-assets/master/lora-spreading-factor-explained/lora-chirps.png"></p>

<p>LoRa is a signal modulation based on Chirp Spread Spectrum (CSS). Linear frequency modulated chirps are carriers of information in the LoRa modulation.</p>

<p>There is some quite intimidating math behind the LoRa modulation. Luckily, for the purpose of this post we don't really need to delve any deeper into it.</p>

<h2>Spreading factor and data rate</h2>

<p><em>Spreading factor</em> (SF) is the speed at which the signal frequency changes across the bandwidth of a channel.</p>

<p><em>Data rate</em> (DR) is the number of bits that are processed per unit of time.</p>

<p>The spreading factor and data rate are obviously related: the higher the spreading factor the lower the data rate.</p>

<p>If the data is sent slowly the signal is easier to receive and distinguish from noise. On the other hand, sending data slowly means the data spends longer time on air and keeps the devices highly utilized which leads to bigger power (battery) consumption.</p>

<p>A higher data rate means a lower spreading factor and higher probability of packet loss.</p>

<p>We have to find a sweet spot in setting the spreading factor parameter for our requirements. Sure, the lower the spreading factor the more efficient our network, but it is not possible to use lower spreading factors everywhere.</p>

<h2>Signal change with different spreading factors</h2>

<p>Now, we have enough information to finally answer the interesting question:</p>

<p><strong>How must the signal change for different spreading factors?</strong></p>

<p>Let me answer this with a picture.</p>

<p>The following figure shows signals with two different spreading factors (SF0 and SF1). With the higher spreading factor (SF1) just one chirp is transmitted in the time unit. With the lower spreading factor (SF0) two chirps are transmitted in the same time unit:</p>

<p><img src="https://raw.githubusercontent.com/ttulka/blog-assets/master/lora-spreading-factor-explained/lora-chirp-sf-dr.png"></p>

<p>We can see that with the lower spreading factor (SF0) the frequency increases more rapidly (double the speed) and the chirps are steeper. Such a signal can transfer more data (its data rate is higher), however, is more error-prone as it is more difficult to distinguish it from noise.</p>

<p>Happy transmitting!</p>

</article>

<aside class="blog-tags">
    
    <a href="/tag/IoT" class="tag">IoT</a>
    
    <a href="/tag/LoRa" class="tag">LoRa</a>
    
    <a href="/tag/LoRaWAN" class="tag">LoRaWAN</a>
    
    
</aside>

<aside class="blog-comments">
    <h2>Leave a message</h2>
    <p class="leave-message">You can add a comment to this post by <a href="https://github.com/ttulka/blog-content/edit/main/site/comments/lora-spreading-factor-explained.json">opening a pull request</a> (see <a href="https://github.com/ttulka/blog-content#add-a-new-comment">HowTo</a>).</p>

    
    
    
</aside>

</main>

<footer class="footer">
    <div class="container">
        <div class="footer__extended">© 2021 Tomas Tulka (ttulka)</div>
        <div class="footer__menu">
            <a href="/">Home</a> |
            <a href="/privacypolicy/">Privacy Policy</a>
        </div>
    </div>
</footer>

<script src="/assets/js/darktheme.js"></script>
<script src="/assets/js/syntaxhighlighter.min.js" defer></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZKWY8T55EM"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZKWY8T55EM');
</script>

</body>
</html>